<!DOCTYPE html>

<html lang="en" ng-app='app'>

<head>
	<title>Attendance Report Management</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="sandbox.css" rel="stylesheet" media="screen">
	<link href="css/xeditable.css" rel="stylesheet">
	<script src="js/angular.min.js"></script>
	<script src="js/xeditable.min.js"></script>
	<!--script src="js/bootstrap.min.js"> </script-->
	<script src="incident.js"> </script>
</head>


<body>
<nav class="navbar navbar-default " role="navigation">
 
	<!--div class="nav-content"--> <!--nav content-->
	
	<div class="row"> <!--navbar row-->
		<div class="col-lg-1"></div>
			<div class="col-lg-11"> <!--column 1-->
				<div class="navbar-header"><!--nav bar header-->
					<a class="navbar-brand" href="#"><strong>OAL</strong> Incident Report Management</a>
				</div> <!--nav bar header end-->
 
			<ul class="nav navbar-nav ">
				<li><a href="#">
					<span class="glyphicon glyphicon-edit"></span> 
					&nbsp Report Incident</a></li>
				<li class="active"><a href="#">
					<span class="glyphicon glyphicon-asterisk"></span>
					&nbsp Current Open Incidents</a></li>
				<li><a href="#">
					<span class="glyphicon glyphicon-folder-open"></span> 
					&nbsp View Reports</a></li>
			</ul>
		</div> <!--column 1-->
	</div> <!--navbar row end-->
	<!--/div--> <!--nav content end-->
</nav>


<div class="container container-pad">
	<div class="panel panel-default" id="IRPanel"> <!--panel conatainer-->

		<div class="panel-heading" id="IRPanelHeading"> <!--panel heading-->
			<h4><span class="glyphicon  glyphicon-asterisk"></span>&nbsp Current Open Incidents</h4>
		</div> <!--panel heading end-->

	 <div class="panel-body" id="IRPanelBody"> <!--panel pody-->

		<div> <!--row1-->
			<div class="col-lg-12" ng-controller="Ctrl"> <!--column 1-->
				
				<form editable-form name="ef" class="hidden"> 
					<table class="table table-bordered table-condensed">
						<tr>
							<td >
								<span>
									{{incident.studentWorker}}
								</span>
							</td>
							<td>
							</td>
							<td>
								<span 
									class="glyphicon glyphicon-edit pull-right"
									ng-click="ef.$show()" 
									ng-hide="ef.$visible"
								></span> 
								<span
									ng-show="ef.$visible"
									ng-disabled="ef.$waiting" 
									ng-click="ef.$submit()"
									class="glyphicon glyphicon-ok pull-right" 
								>save</span> 
								<span 
									ng-show="ef.$visible"
									ng-disabled="ef.$waiting"
									ng-click="ef.$cancel()"
									class="glyphicon glyphicon-remove pull-right" 
								>cancel &nbsp;</span> 
							</td>
						</tr>
					</table>
				</form>
				
				
				<form editable-form name="ei"> 
					<table class="table table-bordered table-condensed">
						<tbody>
							<tr> 
								<td >
									SW:
									<span editable-text="incident.studentWorker">
										{{incident.studentWorker}}
									</span>
								</td>
								<td>
									From:
									<span editable-select="incident.fromLab"
										e-ng-options="lab.name as lab.name for lab in labs">
										Lab: {{incident.fromLab}} 
									</span> <br>
								</td>
								<td>
									ID: 
									<span editable-text="incident.schedulerID">
										{{incident.schedulerID}}
									</span>
								</td>
								<td>
									<span 
										class="glyphicon glyphicon-edit pull-right"
										ng-click="ei.$show()" 
										ng-hide="ei.$visible"
									></span> 
									<span
										ng-show="ei.$visible"
										ng-disabled="ei.$waiting" 
										ng-click="ei.$submit()"
										class="glyphicon glyphicon-ok pull-right" 
									>save</span> 
									<span 
										ng-show="ei.$visible"
										ng-disabled="ei.$waiting"
										ng-click="ei.$cancel()"
										class="glyphicon glyphicon-remove pull-right" 
									>cancel &nbsp;</span> 
								</td>
							
							</tr>
							<tr> 
								<td>
									<span editable-select="incident.type"
										e-ng-options="type for type in incedentTypes"> 
										{{incident.type}} 
									</span> <br>
									<span editable-select="incident.lab"
										e-ng-options="lab.name as lab.name for lab in labs"
										e-ng-change="updateLabStations(this.$data); stationSelecter.$data = labStations[0];">
										Lab: {{incident.lab}} 
									</span> <br>
									<span editable-select="incident.station"
										e-ng-options="station for station in labStations"  
										e-ng-init="registerStationSelecter(this); updateLabStations(incident.lab)">
										Station: {{incident.station}} 
									</span>
									
								</td>
								<td>
									<span editable-date="incident.date">
										{{incident.date | date:'MMMM dd, yyyy'}} 
									</span><br>
									Shift Start: 
									<span editable-time="incident.shiftStart">
										{{incident.shiftStart | toStandardTime}} 
									</span><br>
									Arrival Time:
									<span editable-time="incident.shiftArrive">
										 {{incident.shiftArrive | toStandardTime}}
									</span>
								</td>
								<td>
									Reason given: </br>
									<span editable-textarea="incident.reason" e-rows="3" e-cols="40">
										{{incident.reason}} 
									</span> 
								</td> 
								<td>
									Reported by: 
									<span editable-select="incident.reportedBy" 
										e-ng-options="leader.name as leader.name for leader in leaders">
										{{ incident.reportedBy }}
									</span></br>
									Status: 
									<span editable-select="incident.status"
										e-ng-options="status for status in incidentStatusTypes">
										{{incident.status}} 
									</span><br> 
									Disiplinary Meeting: 
									<span editable-date="incident.meetingDate"
										ng-init="registerMeetingSelecter(this)"
										onaftersave="setMeetingPending()">
											{{incident.meetingDate | date:'MMMM dd, yyyy'}}
									</span>
									<span 
										ng-show="ei.$visible"
										ng-disabled="ei.$waiting"
										ng-click="clearMeetingSelecter()"
										class="glyphicon glyphicon-remove"> 
									</span> 
								</td>
							</tr>
						</tbody>
					</table>
					</form>

					<form editable-form name="ec" ng-repeat="comment in incident.comments | orderBy:'date'">   
						<table class="table table-bordered table-condensed">
							<tr>
								<td  colspan="3">
									<span editable-text="comment.subject">
										{{comment.subject}}
									</span>
								</td>
								<td> 
									 <div editable-select="comment.by" 
											e-ng-options="leader.name as leader.name for leader in leaders">
											by: {{ comment.by }}
									 </div>
								</td>
								<td>
									<span editable-date="comment.date">                
										{{comment.date | date: 'MM-dd-yyyy'}}
									</span>
									<span editable-time="comment.time"  e-minute-step="10">                
										{{comment.time | toStandardTime}}
									</span>

									<span 
										class="glyphicon glyphicon-edit pull-right"
										ng-click="ec.$show()" 
										ng-hide="ec.$visible"
									></span> 
									<span
										ng-show="ec.$visible"
										ng-disabled="ec.$waiting" 
										ng-click="ec.$submit()"
										class="glyphicon glyphicon-ok pull-right" 
									>save</span> 
									<span 
										ng-show="ec.$visible"
										ng-disabled="ec.$waiting"
										ng-click="ec.$cancel()"
										class="glyphicon glyphicon-remove pull-right" 
									>cancel &nbsp;</span> 
								</td>
							</tr>
							<tr>
								<td  colspan="5">
									<span editable-textarea="comment.body"  e-rows="7" e-cols="200">
										<pre>{{comment.body}}</pre>
									</span>
								</td>
							</tr>
						</table>
				</form>

			</div> <!-- end of column 3-->
		</div> <!--end of row1-->

	</div> <!--panel body end-->
</div> <!--internal container end-->
</div> <!-- /main container end -->
</body>



</html>
